import{s as f,c as l,i as e,h as n,d as ee,_ as D,g as R,v as w,x as te,e as i,y as z,t as _,f as r,z as $,w as m,A as ne,S as oe,u as P,r as L,C as re,D as j,B,p as V,E as se,F as le,G as ie,H as ae,I as de,J as N,K as ce,L as ue,o as pe,M as he,O as I,b as ke}from"./index-bpa48Sxk.js";import{u as H,g as me}from"./useNotifications-BAmmmttN.js";import{_ as we}from"./logo-d7hLbmSf.js";import{f as fe}from"./formatters-CqQpRoa5.js";import{W as _e,C as ge}from"./WarningOutline-BIDwubHm.js";import{R as ve}from"./RefreshOutline-DcgKp7UY.js";import"./dashboard-Ks6BhIBF.js";const xe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ye=f({name:"BookOutline",render:function(d,t){return n(),l("svg",xe,t[0]||(t[0]=[e("path",{d:"M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0 1 16 16v288a16 16 0 0 1-16 16c-128 0-177.45 25.81-208 64c-30.37-38-80-64-208-64c-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0 1 16-16c131.57.59 192 32.84 208 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 160v288"},null,-1)]))}}),Ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Me=f({name:"ChevronDownOutline",render:function(d,t){return n(),l("svg",Ce,t[0]||(t[0]=[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 184l144 144l144-144"},null,-1)]))}}),be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Oe=f({name:"ConstructOutline",render:function(d,t){return n(),l("svg",be,t[0]||(t[0]=[e("path",{d:"M436.67 184.11a27.17 27.17 0 0 1-38.3 0l-22.48-22.49a27.15 27.15 0 0 1 0-38.29l50.89-50.89a.85.85 0 0 0-.26-1.38C393.68 57 351.09 64.15 324.05 91c-25.88 25.69-27.35 64.27-17.87 98a27 27 0 0 1-7.67 27.14l-173 160.76a40.76 40.76 0 1 0 57.57 57.54l162.15-173.3a27 27 0 0 1 26.77-7.7c33.46 8.94 71.49 7.26 97.07-17.94c27.49-27.08 33.42-74.94 20.1-102.33a.85.85 0 0 0-1.36-.22z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),e("path",{d:"M224 284c-17.48-17-25.49-24.91-31-30.29a18.24 18.24 0 0 1-3.33-21.35a20.76 20.76 0 0 1 3.5-4.62l15.68-15.29a18.66 18.66 0 0 1 5.63-3.87a18.11 18.11 0 0 1 20 3.62c5.45 5.29 15.43 15 33.41 32.52",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{d:"M317.07 291.3c40.95 38.1 90.62 83.27 110 99.41a13.46 13.46 0 0 1 .94 19.92L394.63 444a14 14 0 0 1-20.29-.76c-16.53-19.18-61.09-67.11-99.27-107",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{d:"M17.34 193.5l29.41-28.74a4.71 4.71 0 0 1 3.41-1.35a4.85 4.85 0 0 1 3.41 1.35h0a9.86 9.86 0 0 0 8.19 2.77c3.83-.42 7.92-1.6 10.57-4.12c6-5.8-.94-17.23 4.34-24.54a207 207 0 0 1 19.78-22.6c6-5.88 29.84-28.32 69.9-44.45A107.31 107.31 0 0 1 206.67 64c22.59 0 40 10 46.26 15.67a89.54 89.54 0 0 1 10.28 11.64a78.92 78.92 0 0 0-9.21-2.77a68.82 68.82 0 0 0-20-1.26c-13.33 1.09-29.41 7.26-38 14c-13.9 11-19.87 25.72-20.81 44.71c-.68 14.12 2.72 22.1 36.1 55.49a6.6 6.6 0 0 1-.34 9.16l-18.22 18a6.88 6.88 0 0 1-9.54.09c-21.94-21.94-36.65-33.09-45-38.16s-15.07-6.5-18.3-6.85a30.85 30.85 0 0 0-18.27 3.87a11.39 11.39 0 0 0-2.64 2a14.14 14.14 0 0 0 .42 20.08l1.71 1.6a4.63 4.63 0 0 1 0 6.64L71.73 246.6a4.71 4.71 0 0 1-3.41 1.4a4.86 4.86 0 0 1-3.41-1.35l-47.57-46.43a4.88 4.88 0 0 1 0-6.72z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),Ae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},je=f({name:"DocumentTextOutline",render:function(d,t){return n(),l("svg",Ae,t[0]||(t[0]=[e("path",{d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{d:"M256 56v120a32 32 0 0 0 32 32h120",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 288h160"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 368h160"},null,-1)]))}}),ze={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$e=f({name:"HomeOutline",render:function(d,t){return n(),l("svg",ze,t[0]||(t[0]=[e("path",{d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{d:"M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 179V64h-48v69"},null,-1)]))}}),Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},q=f({name:"InformationCircleOutline",render:function(d,t){return n(),l("svg",Be,t[0]||(t[0]=[e("path",{d:"M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184s184-82.39 184-184S349.61 64 248 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M220 220h32v116"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M208 340h88"},null,-1),e("path",{d:"M248 130a26 26 0 1 0 26 26a26 26 0 0 0-26-26z",fill:"currentColor"},null,-1)]))}}),Ie={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ne=f({name:"KeyOutline",render:function(d,t){return n(),l("svg",Ie,t[0]||(t[0]=[e("path",{d:"M218.1 167.17c0 13 0 25.6 4.1 37.4c-43.1 50.6-156.9 184.3-167.5 194.5a20.17 20.17 0 0 0-6.7 15c0 8.5 5.2 16.7 9.6 21.3c6.6 6.9 34.8 33 40 28c15.4-15 18.5-19 24.8-25.2c9.5-9.3-1-28.3 2.3-36s6.8-9.2 12.5-10.4s15.8 2.9 23.7 3c8.3.1 12.8-3.4 19-9.2c5-4.6 8.6-8.9 8.7-15.6c.2-9-12.8-20.9-3.1-30.4s23.7 6.2 34 5s22.8-15.5 24.1-21.6s-11.7-21.8-9.7-30.7c.7-3 6.8-10 11.4-11s25 6.9 29.6 5.9c5.6-1.2 12.1-7.1 17.4-10.4c15.5 6.7 29.6 9.4 47.7 9.4c68.5 0 124-53.4 124-119.2S408.5 48 340 48s-121.9 53.37-121.9 119.17zM400 144a32 32 0 1 1-32-32a32 32 0 0 1 32 32z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),De={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Se=f({name:"MailOpenOutline",render:function(d,t){return n(),l("svg",De,t[0]||(t[0]=[e("path",{d:"M441.6 171.61L266.87 85.37a24.57 24.57 0 0 0-21.74 0L70.4 171.61A40 40 0 0 0 48 207.39V392c0 22.09 18.14 40 40.52 40h335c22.38 0 40.52-17.91 40.52-40V207.39a40 40 0 0 0-22.44-35.78z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{d:"M397.33 368L268.07 267.46a24 24 0 0 0-29.47 0L109.33 368",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M309.33 295l136-103"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M61.33 192l139 105"},null,-1)]))}}),Le={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ve=f({name:"MegaphoneOutline",render:function(d,t){return n(),l("svg",Le,t[0]||(t[0]=[ee('<path d="M407.94 52.22S321.3 160 240 160H80a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h160c81.3 0 167.94 108.23 167.94 108.23c6.06 8 24.06 2.52 24.06-9.83V62c0-12.31-17-18.82-24.06-9.78z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M64 256s-16-6-16-32s16-32 16-32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M448 246s16-4.33 16-22s-16-22-16-22" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 160v128"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M112 160v128"></path><path d="M144 288v168a8 8 0 0 0 8 8h53a16 16 0 0 0 15.29-20.73C211.91 416.39 192 386.08 192 336h16a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',6)]))}}),qe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Re=f({name:"MenuOutline",render:function(d,t){return n(),l("svg",qe,t[0]||(t[0]=[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 160h352"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 256h352"},null,-1),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 352h352"},null,-1)]))}}),Pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},He=f({name:"NotificationsOutline",render:function(d,t){return n(),l("svg",Pe,t[0]||(t[0]=[e("path",{d:"M427.68 351.43C402 320 383.87 304 383.87 217.35C383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53c-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43C73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{d:"M320 384v16a64 64 0 0 1-128 0v-16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),Te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ue=f({name:"PeopleOutline",render:function(d,t){return n(),l("svg",Te,t[0]||(t[0]=[e("path",{d:"M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{d:"M336 304c-65.17 0-127.84 32.37-143.54 95.41c-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),e("path",{d:"M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),e("path",{d:"M206 306c-18.05-8.27-37.93-11.45-59-11.45c-52 0-102.1 25.85-114.65 76.2c-1.65 6.66 2.53 13.25 9.37 13.25H154",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1)]))}}),Ke={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ee=f({name:"SettingsOutline",render:function(d,t){return n(),l("svg",Ke,t[0]||(t[0]=[e("path",{d:"M262.29 192.31a64 64 0 1 0 57.4 57.4a64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22a155.3 155.3 0 0 1-21.46-12.57a16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22a155.3 155.3 0 0 1 21.46 12.57a16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),Fe={class:"app-sidebar"},We={key:0,class:"brand-title"},Ge={class:"brand-name"},Je={__name:"AppSidebar",props:{items:{type:Array,default:()=>[]},collapsed:{type:Boolean,default:!1}},emits:["navigate"],setup(u,{emit:d}){const t=u,k=d,b=R(),O="DawAPI",C=w(()=>{const o=new Map;return t.items.forEach(s=>{const h=s.group||"default";o.has(h)||o.set(h,[]),o.get(h).push(s)}),o}),M=w(()=>{const o=[];return C.value.forEach((s,h)=>{const y=s.map(g=>({key:g.key,label:g.label,icon:g.icon?()=>te(g.icon,{size:20}):void 0,meta:g}));h==="default"?o.push(...y):o.push({key:`group-${h}`,label:h,type:"group",children:y})}),o}),x=w({get(){return t.items.find(s=>s.to?.name===b.name)?.key||null},set(o){if(!o)return;const s=t.items.find(h=>h.key===o);s&&k("navigate",s)}});function A(o,s){const h=t.items.find(y=>y.key===o);h&&k("navigate",h)}return(o,s)=>(n(),l("div",Fe,[e("div",{class:$(["app-sidebar__brand",{"app-sidebar__brand--collapsed":u.collapsed}])},[s[2]||(s[2]=e("div",{class:"brand-icon"},[e("img",{src:we,alt:"DawAPI Logo"})],-1)),u.collapsed?z("",!0):(n(),l("div",We,[e("span",Ge,_(r(O)),1),s[1]||(s[1]=e("span",{class:"brand-tagline"},"Unified AI Control",-1))]))],2),i(r(oe),{class:"app-sidebar__menu"},{default:m(()=>[i(r(ne),{value:x.value,"onUpdate:value":[s[0]||(s[0]=h=>x.value=h),A],collapsed:u.collapsed,options:M.value,"collapsed-width":64,"collapsed-icon-size":18,"root-indent":18,indent:18},null,8,["value","collapsed","options"])]),_:1})]))}},Qe=D(Je,[["__scopeId","data-v-787758d5"]]),Xe={class:"app-header"},Ye={class:"app-header__left"},Ze={class:"app-header__title"},et={class:"app-header__right"},tt={key:0,class:"app-header__balance"},nt={class:"value"},ot={class:"app-header__user",type:"button"},rt={class:"avatar"},st={class:"meta"},lt={class:"name"},it={class:"email"},at={class:"notification-modal-content"},dt={key:0,class:"notifications-timeline"},ct=["onClick"],ut={class:"timeline-indicator"},pt={key:0,class:"indicator-line"},ht={class:"timeline-card"},kt={class:"timeline-header"},mt={class:"timeline-action"},wt={class:"action-text"},ft={key:0,class:"unread-dot"},_t={class:"timeline-time"},gt={class:"timeline-body"},vt={class:"timeline-message"},xt={key:1,class:"notification-empty"},yt={__name:"AppHeader",props:{collapsed:{type:Boolean,default:!1}},emits:["toggle-sidebar","logout","rotate-key"],setup(u,{emit:d}){const t=d,k=P(),b=R(),O=L(!1),C=L(!1),{news:M,unreadCount:x,markAsRead:A,markAllAsRead:o}=H(),s=w(()=>k.displayName||"访客"),h=w(()=>k.profile?.email||k.status?.email||""),y=w(()=>{const p=k.balance??0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(p)}),g=w(()=>k.balance!==null&&k.balance!==void 0),T=w(()=>k.isRoot?"Root":k.isAdmin?"Owner":k.canManage?"Manager":"Member"),U=w(()=>k.isRoot?"info":k.isAdmin?"primary":k.canManage?"success":"default"),K=w(()=>b.meta?.title||"概览"),E=w(()=>({dashboard:"全局运行状态与快速操作",usage:"趋势、模型和账户用量洞察","api-key-insights":"跨账户额度和活跃度速查","account-tools":"批量管理子账户与额度",logs:"安全审计和操作轨迹","admin-config":"系统策略与资源配置","admin-provider-keys":"Provider 凭据生命周期","admin-broadcast":"向账户推送公告与提醒","api-reference":"集成示例与最佳实践"})[b.name]||"DawAPI 控制台"),F=w(()=>{const a=(s.value||"").trim().split(/\s+/);return a.length===1?a[0].slice(0,2).toUpperCase():a.slice(0,2).map(c=>c[0]).join("").toUpperCase()}),W=w(()=>[{label:"退出登录",key:"logout"}]);async function S(p){try{return!(await me()).includes(p)}catch{return!1}}function G(){C.value=!0}function J(p){const a=p.originalId||p.id;A(a)}function Q(){o()}function X(p){if(!p)return"";const a=new Date,c=new Date(p),v=Math.floor((a-c)/1e3);return v<60?"刚刚":v<3600?`${Math.floor(v/60)}分钟前`:v<86400?`${Math.floor(v/3600)}小时前`:v<604800?`${Math.floor(v/86400)}天前`:fe(p,"MM-DD HH:mm")}function Y(p){return{system:q,user:ge,dna:_e}[p]||q}function Z(p){p==="logout"&&t("logout"),p==="rotate-key"&&t("rotate-key")}return re(()=>{O.value?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")}),(p,a)=>(n(),l("header",Xe,[e("div",Ye,[i(r(B),{quaternary:"",circle:"",class:"app-header__trigger",onClick:a[0]||(a[0]=c=>p.$emit("toggle-sidebar"))},{default:m(()=>[i(r(j),{size:"20"},{default:m(()=>[i(r(Re))]),_:1})]),_:1}),e("div",Ze,[e("h1",null,_(K.value),1),e("p",null,_(E.value),1)])]),e("div",et,[i(r(se),{class:"app-header__role",size:"medium",bordered:!1,round:"",type:U.value},{default:m(()=>[V(_(T.value),1)]),_:1},8,["type"]),g.value?(n(),l("div",tt,[a[2]||(a[2]=e("span",{class:"label"},"余额",-1)),e("span",nt,_(y.value),1)])):z("",!0),i(r(le),{value:r(x),max:99,show:r(x)>0},{default:m(()=>[i(r(B),{quaternary:"",circle:"",class:"app-header__notification",onClick:G},{default:m(()=>[i(r(j),{size:"20"},{default:m(()=>[i(r(He))]),_:1})]),_:1})]),_:1},8,["value","show"]),i(r(ie),{trigger:"click",options:W.value,onSelect:Z},{default:m(()=>[e("button",ot,[e("div",rt,_(F.value),1),e("div",st,[e("span",lt,_(s.value),1),e("span",it,_(h.value),1)]),i(r(j),{size:"16"},{default:m(()=>[i(r(Me))]),_:1})])]),_:1},8,["options"])]),i(r(ue),{show:C.value,"onUpdate:show":a[1]||(a[1]=c=>C.value=c),preset:"card",title:"今日通知",size:"large",style:{"max-width":"800px"}},{"header-extra":m(()=>[r(x)>0?(n(),N(r(B),{key:0,text:"",size:"small",onClick:Q},{default:m(()=>[...a[3]||(a[3]=[V(" 全部已读 ",-1)])]),_:1})):z("",!0)]),default:m(()=>[e("div",at,[r(M).length>0?(n(),l("div",dt,[(n(!0),l(ae,null,de(r(M),(c,v)=>(n(),l("div",{key:c.id,class:$(["notification-timeline-item",{unread:S(c.originalId||c.id)}]),onClick:Ot=>J(c)},[e("div",ut,[e("div",{class:$(["indicator-dot",`type-${c.type}`])},null,2),v<r(M).length-1?(n(),l("div",pt)):z("",!0)]),e("div",ht,[e("div",kt,[e("div",mt,[e("div",{class:$(["action-icon",`type-${c.type}`])},[i(r(j),{size:"20"},{default:m(()=>[(n(),N(ce(Y(c.type))))]),_:2},1024)],2),e("span",wt,_(c.title||"系统通知"),1),S(c.originalId||c.id)?(n(),l("div",ft)):z("",!0)]),e("div",_t,_(X(c.created_at)),1)]),e("div",gt,[e("p",vt,_(c.message||c.content),1)])])],10,ct))),128))])):(n(),l("div",xt,[i(r(j),{size:"64",color:"#d1d5db"},{default:m(()=>[i(r(Se))]),_:1}),a[4]||(a[4]=e("p",null,"今日暂无通知",-1))]))])]),_:1},8,["show"])]))}},Ct=D(yt,[["__scopeId","data-v-c92c234d"]]),Mt={class:"app-shell__content"},bt={__name:"AppShell",setup(u){const d=ke(),t=P(),{initialize:k,startPolling:b,stopPolling:O}=H();pe(()=>{const o=t.apiKey;o&&k(o).then(()=>{b(6e4)})}),he(()=>{O()});const C=w(()=>[{key:"dashboard",label:"总览",icon:$e,to:{name:"dashboard"},group:"控制台"},{key:"api-key-insights",label:"API Key 速查",icon:Ne,to:{name:"api-key-insights"},group:"工具",requiresManage:!0},{key:"account-tools",label:"子账户工具",icon:Ue,to:{name:"account-tools"},group:"工具",requiresManage:!0},{key:"logs",label:"操作日志",icon:je,to:{name:"logs"},group:"工具",requiresManage:!0},{key:"admin-config",label:"系统配置",icon:Ee,to:{name:"admin-config"},group:"系统",requiresAdmin:!0},{key:"admin-provider-keys",label:"Provider 密钥",icon:Oe,to:{name:"admin-provider-keys"},group:"系统",requiresAdmin:!0},{key:"admin-broadcast",label:"广播通知",icon:Ve,to:{name:"admin-broadcast"},group:"系统",requiresAdmin:!0},{key:"admin-account-reset",label:"账户重置管理",icon:ve,to:{name:"admin-account-reset"},group:"系统",requiresAdmin:!0},{key:"api-reference",label:"API 文档",icon:ye,to:{name:"api-reference"},group:"资源"}].filter(s=>!(s.requiresAdmin&&!t.isAdmin||s.requiresManage&&!t.canManage)));function M(o){o?.to&&d.push(o.to)}function x(){d.push({name:"dashboard",query:{action:"rotate-key"}})}function A(){t.logout(),d.replace({name:"login",query:{reason:"logout"}})}return(o,s)=>{const h=I("n-layout-sider"),y=I("router-view"),g=I("n-layout");return n(),N(g,{class:"app-shell","has-sider":""},{default:m(()=>[i(h,{class:"app-shell__sider",bordered:"",width:260},{default:m(()=>[i(Qe,{items:C.value,collapsed:!1,onNavigate:M},null,8,["items"])]),_:1}),i(g,null,{default:m(()=>[i(Ct,{class:"app-shell__header",onLogout:A,onRotateKey:x}),e("div",Mt,[i(y)])]),_:1})]),_:1})}}},Dt=D(bt,[["__scopeId","data-v-694442e8"]]);export{Dt as default};
